# [패스트캠퍼스 프론트엔드 개발 스쿨 9기] 중간 프로젝트

박치혜, 2018. 05. 28 ~ 06. 01


## 중간 프로젝트 소개 및 목표
/* 어떤 주제를 택했고, 어떤 기술을 사용했으며, 초기 기획은 어땠는지 알려 주세요. 스스로 어떤 목표를 잡고 프로젝트를 진행했는지 적어주세요. */

중간 프로젝트 주제로 **프로젝트 관리 서비스**를 선택했다.  

**사용기술**
- HTML
- SCSS (bulma CSS)
- JavaScript
- [Axios](https://github.com/axios/axios), [Moment.js](https://momentjs.com/), [Pikaday](https://github.com/dbushell/Pikaday)

**초기 기획**
1. 로그인 페이지 
2. 회원가입 페이지
3. 계정별 프로젝트와 프로젝트 별 작업을 한눈에 볼 수 있는 인덱스 페이지
    - 프로젝트 추가
    - 작업 추가
    - 작업 별 검색 / 라벨 별 검색 / 완료 여부로 소팅
4. 작업을 추가할 때 작성하는 폼과 수정 폼
5. 작업의 상세내역과 활동 로그를 기록할 수 있는 작업의 상세 페이지

**기간내 가능하다면 추가적으로 구현하고 싶은 작업**
1. 작업에 기간을 설정하는 것
2. 기간 임박 작업을 표시해주는 시스템
3. 완료 현황을 한눈에 알 수 있는 대시보드를 만들고 싶었다.  

## 사실 (Fact)
/* 초기 목표와 달라진 점이 있나요? 프로젝트는 어느 정도 완성이 되었나요? 프로젝트를 진행하며 경험한 이슈 중 세 가지를 꼽고, 이를 해결한 방법을 알려주세요. 문제를 잘 해결하는 사람이라는 것을 보여주세요. */

생각한 것을 모두 구현하기에는 리액트같은 프레임워크 없이는 힘들다는 것을 알게되었다. 컴포넌트를 만드는 함수에서 하위 컴포넌트에 무엇을 전달하려 하면 타고들어가는 함수에 모두 인자로 넘겨줘야 하다보니 로직이 복잡해졌다.  

기본 기능 구현은 완성된 것 같다. 검색별로 소팅되는 부분은 버그가 있는 것 같아서 좀 더 수정해야할 것 같다. 대시보드까지는 어려울 것 같다.

1. **`<textarea>`를 사용한 프로젝트 이름 마크업/스타일링**  
프로젝트 이름에 `<textarea>`를 사용해 스타일링을 통해 포커스일때만 보더를 넣어 보여지는 기능과 수정 기능을 둘다 넣고 싶었는데 `<textarea>`는 `resize`속성과는 별개로 높이가 늘어나지 않았다. 브라우저에서 최초 문자열 크기에 맞춰 높이가 고정된다고 한다.  
`textarea`를 `position: absolute`시키고 가로 세로 100%으로 설정한뒤 그 뒤로 가려지는 같은 폰트 스타일을 가진 `<div>` 더미 박스에 `<textarea>`의 `value`값이 입력되도록 했다. 더미 `<div>`의 영역만큼 부모 콘텐츠가 여역을 가지게 되므로 그 부모영역의 높이에 영향을 받는 `<textarea>`도 높이를 가지게 되었다.

2. **라벨 검색 기능 구현과 labelItem()함수 재사용을 위해 label을 인자로 받아 실행할 함수를 인자로 받도록 수정**  
작업 추가 모달에서 라벨 자동완성(추천) 기능을 만들었는데, 기존 라벨을 선택하면 그 값을 인풋이나 라디오 버튼에 값을 넘기는 식으로 선택되었다는 것을 표시하도록 했더니, 폼 submit시에 결국은 그 던져준 값으로 라벨을 생성하는 코드가 있어서 라벨이 데이터에 중복으로 생성되어 기존에 이미 사용된 라벨을 재사용하게 만드려고 한 취지에 맞지 않았다.  
이미 생겨난 라벨을 중복 생성하지 않고 재사용 가능하도록 UI를 아예 고쳐서 라벨 검색으로 보여지는 라벨 선택 시에는 삭제 버튼이 있는 라벨 태그와 라벨을 추가하는 폼 부분이 바꿔치기 되도록 수정했으며. label인풋값은 비워버리게 했다. 인풋의 값이 비어있다면 문제를 일으켰던 코드 부분은 if문에 의해 걸러져 라벨을 추가하는 부분은 실행되지 않는다.  
이때 라벨을 생성하는 렌더 함수(`labelItem()`)를 재사용하고 싶은데, 1. 그냥 라벨생성, 2. 라벨 검색 기능에서는 라벨을 클릭하면 선택되도록 로직 추가, 3. 선택된 라벨은 삭제 버튼이 추가되어야하고 삭제 버튼을 누르면 선택된 라벨이 삭제되면서 라벨 입력 폼이 다시 나타나야한다.  
`labelItem()`에 생성된 label을 인자로 받아 실행하는 함수를 인자로 넘길 수 있도록 수정했다.

3. **리플로우를 줄이기 위해 project list 템플릿과 로직을 content에서 분리**  
소팅된 작업을 `taskItem()`호출해서 그리는 것으로 하니까 for문을 통해 호출되므로 작업 컴포넌트를 하나씩 그려서 던지므로 리플로우가 여러번 발생했다. prepend로 인해 앞으로 쌓이면서 먼저 생성된 작업이 뒤로 밀리니까 보기에도 좋지 않았다.  
그렇다고 `projectContent()` 함수를 호출해 다시 그리자니 검색이나 정렬 버튼같은 다른 부분까지 다시 그려지므로 `projectList()` 렌더 함수를 만들어 `projectContent()` 로직에서 리스트를 그리는 템플릿을 분리했다. 리스트 템플릿을 하나 더 만들어 작업을 리스트에 다 그리면 그 리스트를 한번에 그려주도록 수정했더니 리플로우가 한번만 발생했다. 

## 긍정적인 변화와 느낀 점 (Feeling & Finding)
/* 결과보다는 과정이 중요합니다. 지난 번 해커톤과 비교해봤을 때, 프로젝트를 진행하면서 긍정적으로 바뀐 부분은 무엇인가요? 프로젝트를 진행하며 느꼈던 감정의 파도는 무엇이었나요? 프로젝트가 완성된 지금, 그 감정을 돌아보는 시간을 가져 주세요. 또, 프로젝트를 진행하면서 새롭게 알게된 사실을 적어주세요.  */ 

/* 참고: 회고할 때는 긍정적인 부분을 더 많이! 생각해 주세요. */

처음에는 굉장히 막막했다. 주말부터 시작하려고 했는데 기획만으로 이틀이 소요되었다. 그리고 이 기획대로 다 만들 수 있을까 걱정이 되었다. 감정을 파도라고 하니 비유하자면 시시때때로 쓰나미가 밀려왔다. 첫날 10% 라고 적었는데 그 10%도 기존에 배웠던 부분을 다시 복습하는 차원에서 만든거라 10%라고 하기도 뭐했다.  

지난 해커톤때는 문제가 발생하면 다른 팀원이 같이 봐주고 찾아주고 더 나은 코드를 위해 같이 고민했는데, 오롯이 혼자서 만드려니 그런 부분에서는 좀 힘들었다. 물론 어떤 일을 결정하고 밀고 나갈때 다른 사람의 의견을 묻지 않아도 되니 속도면에서는 더 빠르지만 이렇게 코드를 작성하는게 좋은 걸까?라는 의문이 계속 있었다.

만들면서 기획도 조금씩 수정이 되었다. 그나마 이틀을 소요한 기획이 도움이 되었던 것이 종이에 끄적여 놓은 화면 구성을 참고하면서 만드니까 마크업 고민을 덜었다.

bulma 라는 CSS 프레임워크를 사용했는데, material이나 부트스트랩은 Sass, less 공부하려고 봤지 실제로 프로젝트에 써본 적이 없었다. 가져다 쓰려면 문서를 봐야하고 일일이 찾아서 어떻게 쓰는지 확인 해야해서 처음 쓸때는 번거로웠는데, 만들다 보니 컴포넌트별로 일관성 있는 디자인이 가능해서 완성도 있게 보이도록 해주기 때문에 디자인 고민을 덜 수 있었다.

함수를 재사용하기 위해 고민을 많이 했다. 비슷한 로직이 많은데 이 부분을 같이 사용할 수 있게 하려니 어떻게 함수를 만들고 내부 로직을 짜야할 지 많이 고민이 되었다. 인자로 함수를 넘겨준다든지 여러 시도를 해보는 것이 재미있었다. 다른 언어를 잘 몰라서 자바스크립트만의 매력이라든가 그런 부분까지 비교하지는 못하겠지만, 이런 시도를 할 수 없게 설계된 언어들이 있다고 한다면 확실히 나에게 자바스크립트는 굉장히 매력적인 언어인 것 같다. (그런데 잘 쓰고 있다는 확신은 없다. 이렇게 짜도 괜찮은 것인가...)

대강 기본 구현은 완성하고 나니 퍼블로 일할 때 함께 일했던 개발자 분들을 이해할 수 있게 되었다. 중복으로 필터링 되게 하는 것이 쉬운 일은 아니어서 왜 그 부분에서 버그를 많이 내셨는지 알 것 같다.

리액트는 어디까지 가능할지 아직 잘 모르겠지만. 내가 복잡하게 짜놓은 것 보다 훨씬 수월하게 짜도 컴포넌트의 변경된 상태를 계속 관찰하는 게 가능하지 않을까 싶다. 그렇다면 지금처럼 지저분하게 인자에 데이터 던지고 그 안에서 다른 함수 호출하면서 그 데이터를 또 던져줘야하는 그런 복잡한 로직은 없어도 되지 않을까 싶어서 다음주 리액트 과정이 기대된다.

## 개선할 점과 앞으로 해볼 일 (Future Action)
/* 최종 프로젝트 때 실천해보고 싶은 개선점이 있나요? 구체적인 액션 플랜을 적어 주세요. */

지금 datepicker는 Pikaday라는 라이브러리를 사용하고 있는데 직접 구현해보고 싶다. 그리고 프로젝트별 완료된 작업 비율을 계산해서 진행률을 한눈에 볼 수 있는 대시보드 구현까지 해보고 싶다.  

검색기능은 좀더 UI적인 고민을 함께 해야할 것 같다. 어떻게 만들어야 이중 검색 기능이 논리적으로 보일지 더 생각해봐야될 것 같다.
가능하다면 드래그앤드롭 기능을 넣어 프로젝트나 작업 순서를 바꿀 수 있게도 만들고 싶다.  
그리고 팀 계정을 만들어서 팀원도 공유할 수 있는 트렐로 같은 서비스를...